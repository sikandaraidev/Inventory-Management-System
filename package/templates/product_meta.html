{% extends 'base.html' %}
{% block content %}
<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Product: {{ product.name }} (ID: {{ product.product_id }})</h1>

  <!-- Product Info -->
  <div class="bg-white dark:bg-gray-800 shadow rounded p-4 mb-6">
    <p style="color:white;"><strong>Category:</strong> {{ category_name or "N/A" }}</p>
    <p style="color:white;"><strong>Supplier:</strong> {{ supplier_name or "N/A" }}</p>
    <p style="color:white;"><strong>Price:</strong> ${{ product.price }}</p>
  </div>

  <!-- Metadata Section -->
  <div id="metadata-container" class="bg-gray-100 dark:bg-gray-900 p-4 rounded shadow">
    <h2 class="text-xl font-semibold mb-2">Product Metadata</h2>
    <div id="meta-status" class="text-sm text-gray-500 mb-2">Loading metadata...</div>

    <form id="meta-form" class="space-y-4 hidden">
      <div>
        <label>Tags (comma-separated)</label>
        <input id="tags" class="w-full p-2 rounded bg-white dark:bg-gray-700" />
      </div>

      <div>
        <label>Specifications (key:value per line)</label>
        <textarea id="specifications" class="w-full p-2 rounded bg-white dark:bg-gray-700 h-32"></textarea>
      </div>

      <div>
        <label>Care Instructions</label>
        <textarea id="care_instructions" class="w-full p-2 rounded bg-white dark:bg-gray-700"></textarea>
      </div>

      <div>
        <label>SEO Title</label>
        <input id="seo_title" class="w-full p-2 rounded bg-white dark:bg-gray-700" />
      </div>

      <div>
        <label>SEO Description</label>
        <textarea id="seo_description" class="w-full p-2 rounded bg-white dark:bg-gray-700"></textarea>
      </div>

      <div>
        <label>Vendor Notes</label>
        <textarea id="vendor_notes" class="w-full p-2 rounded bg-white dark:bg-gray-700"></textarea>
      </div>

      <div class="flex gap-4 mt-4">
        <button type="button" id="save-meta" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Save Metadata</button>
        <button type="button" id="cancel-meta" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">Cancel</button>
      </div>
    </form>
  </div>
</div>
<script>
  const productId = JSON.parse('{{ product_id | tojson | safe }}');
</script>
<script src="{{ url_for('frontend.static', filename='js/product_meta.js') }}"></script>
{% endblock %}


